# 协作与分支开发规范

1. **分支策略**：
   - 严禁直接在 `main` 分支进行功能开发。
   - 任何新功能、重构或 Bug 修复，请务必先引导我创建或切换到以 `feat/` 或 `fix/` 开头的特性分支。
   - 示例：`feat/traditional-colors`, `fix/exchange-rate-overflow`。

2. **提交与推送**：
   - 在特性分支开发过程中，请主动提醒或协助我进行 `git push` 以备份进度。
   - Commit Message 请遵循 Conventional Commits 规范（如 `feat:`, `fix:`, `refactor:`, `docs:`）。

3. **合并流程**：
   - 功能完成后，严禁在本地执行 `git merge main`。
   - 请引导或提醒我使用 GitHub CLI (`gh pr create`) 或通过 GitHub 界面提起 Pull Request。
   - 提醒我进行代码审查（Code Review）后再合入主干。

4. **部署意识**：
   - 意识到主干 `main` 的任何变动都会触发 Zeabur 的自动部署，因此必须保证合入的代码是生产就绪的。

5. **三位一体文档驱动 (Document Driven Development)**：
   - 在执行任何实质性代码修改前，必须确保以下文档同步更新，作为 AI 的持久化记忆：
     - **product_spec.md (Why & What)**: 明确「为什么做」和「做什么」。涵盖功能逻辑、用户交互、业务规则。当 Vibe 发生漂移时，以此文档为最终准绳。
     - **tech_spec.md (How)**: 明确「怎么实现」。涵盖技术架构、接口契约、数据结构、核心算法及新增依赖。
     - **task_spec.md (Status)**: 明确「当前进度」。以 Checklist 形式记录待办事项，每完成一个子任务必须打勾 `[x]`，确保执行链路可追踪。
   - **原子化要求**：文档的更新应先于或同步于代码变更，确保「代码实现」永远有「文档依据」。

6. **Vibe 对齐协议**：
   - 面对模糊需求时，AI 必须先通过修改 `product_spec.md` 来回显其理解的「Vibe」，待用户确认对齐后方可进入代码实施阶段。